import{S as t,i as e,s,e as a,t as i,c as l,b as n,f as o,g as c,F as r,j as h,k as d,l as g,a as u,d as p,G as f,H as m,I as E,n as b,J as v,K as T,y as I,B as x,L as y,M as S}from"./client.b65ad4af.js";function w(t){let e,s,u=A(t[0],t[1],t[2])+"";return{c(){e=a("h5"),s=i(u),this.h()},l(t){e=l(t,"H5",{style:!0});var a=n(e);s=o(a,u),a.forEach(c),this.h()},h(){r(e,"margin-top","20px"),r(e,"color","red")},m(t,a){h(t,e,a),d(e,s)},p(t,e){7&e&&u!==(u=A(t[0],t[1],t[2])+"")&&g(s,u)},d(t){t&&c(e)}}}function H(t){let e,s,g,v,T,I,x,y,S,H,N,D,$,j,k,B,C,L,R,U,X,F,G,J,K=0!=A(t[0],t[1],t[2]).length,M=K&&w(t);return{c(){e=a("title"),s=i("New test"),g=u(),v=a("h4"),T=i("Title"),I=u(),x=a("input"),y=u(),S=a("h4"),H=i("Description"),N=u(),D=a("textarea"),$=u(),j=a("h4"),k=i("Code"),B=u(),C=a("textarea"),L=u(),R=a("div"),M&&M.c(),U=u(),X=a("button"),F=i("add test"),this.h()},l(t){e=l(t,"TITLE",{});var a=n(e);s=o(a,"New test"),a.forEach(c),g=p(t),v=l(t,"H4",{});var i=n(v);T=o(i,"Title"),i.forEach(c),I=p(t),x=l(t,"INPUT",{}),y=p(t),S=l(t,"H4",{style:!0});var r=n(S);H=o(r,"Description"),r.forEach(c),N=p(t),D=l(t,"TEXTAREA",{style:!0}),n(D).forEach(c),$=p(t),j=l(t,"H4",{style:!0});var h=n(j);k=o(h,"Code"),h.forEach(c),B=p(t),C=l(t,"TEXTAREA",{style:!0}),n(C).forEach(c),L=p(t),R=l(t,"DIV",{});var d=n(R);M&&M.l(d),U=p(d),X=l(d,"BUTTON",{disabled:!0});var u=n(X);F=o(u,"add test"),u.forEach(c),d.forEach(c),this.h()},h(){r(S,"margin-top","20px"),r(D,"width","100%"),r(D,"height","200px"),r(j,"margin-top","20px"),r(C,"width","100%"),r(C,"height","200px"),X.disabled=G=0!=A(t[0],t[1],t[2]).length},m(a,i,l){h(a,e,i),d(e,s),h(a,g,i),h(a,v,i),d(v,T),h(a,I,i),h(a,x,i),f(x,t[0]),h(a,y,i),h(a,S,i),d(S,H),h(a,N,i),h(a,D,i),f(D,t[1]),h(a,$,i),h(a,j,i),d(j,k),h(a,B,i),h(a,C,i),f(C,t[2]),h(a,L,i),h(a,R,i),M&&M.m(R,null),d(R,U),d(R,X),d(X,F),l&&m(J),J=[E(x,"input",t[8]),E(D,"input",t[9]),E(C,"input",t[10]),E(X,"click",t[11])]},p(t,[e]){1&e&&x.value!==t[0]&&f(x,t[0]),2&e&&f(D,t[1]),4&e&&f(C,t[2]),7&e&&(K=0!=A(t[0],t[1],t[2]).length),K?M?M.p(t,e):(M=w(t),M.c(),M.m(R,U)):M&&(M.d(1),M=null),7&e&&G!==(G=0!=A(t[0],t[1],t[2]).length)&&(X.disabled=G)},i:b,o:b,d(t){t&&c(e),t&&c(g),t&&c(v),t&&c(I),t&&c(x),t&&c(y),t&&c(S),t&&c(N),t&&c(D),t&&c($),t&&c(j),t&&c(B),t&&c(C),t&&c(L),t&&c(R),M&&M.d(),m(J)}}}function A(t,e,s){return 0==t.length?"missing title":t.length>256?`title is too long: ${t.length} > 256`:0==e.length?"description is missing":e.length>2048?`description is too long: ${t.length} > 2048`:0==s.length?"code is missing":s.length>8192?`code is too long: ${t.length} > 8192`:""}function N(t,e,s){let a,i,l,n=null;const o=v(localStorage.getItem("tname")||"");T(t,o,t=>s(0,a=t)),o.subscribe(t=>localStorage.setItem("tname",t));const c=v(localStorage.getItem("tdescr")||"");T(t,c,t=>s(1,i=t)),c.subscribe(t=>localStorage.setItem("tdescr",t));const r=v(localStorage.getItem("tcode")||"");async function h(){200==(await y(n,"create_test",{title:a,descr:i,code:l})).status&&(o.set(""),c.set(""),r.set(""),S("/"))}T(t,r,t=>s(2,l=t)),r.subscribe(t=>localStorage.setItem("tcode",t)),I(()=>{n=x()});return[a,i,l,o,c,r,h,n,function(){a=this.value,o.set(a)},function(){i=this.value,c.set(i)},function(){l=this.value,r.set(l)},()=>h()]}export default class extends t{constructor(t){super(),e(this,t,N,H,s,{})}}
